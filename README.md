Урок 12. Хранение данных

Задание Добавить темы в свое приложение. У пользователя должен быть доступен выбор темы, сделать это он может в профиле (там где сейчас отображается имя и аватарка). у пользователя должен быть выбор минимум между 3 темами, причем при смене темы должен меняться не только фон в приложении, но и цвет текста, цвет фона, цвет ячеек и так далее. Добавить в приложение Core Data. Теперь необходимо сохранять друзей и группы. Когда пользователь переходит к списку друзей или групп - ему сначала должны показываться данные из Core Data, затем, когда придет ответ на запрос - отображаются новые данные, а также эти данные обновляются в Core Data. Если в ответ на запрос приходит ошибка, то необходимо отобразить ее пользователю (например, используя UIAlertController) и показать данные из Core Data с пометкой, на какой момент времени эти данные актуальны. Добавить возможность обновить список друзей. Например, добавить кнопку, по нажатию на которую происходит запрос в сеть на получение списка друзей или отправлять запрос, если пользователь “потянет” за таблицу (то есть беседы листаем движением пальца снизу вверх, а запрос будет отправляться при движении сверху вниз, находясь на самом верху таблицы). После получения данных необходимо их отобразить. а также обновить в Core Data. Если обновление списка друзей инициировано пользователем, то необходимо на время получения данных показать пользователю, что данные обновляются (посмотрите в сторону UIActivityIndicatorView или UIRefreshControl). Необходимо добавить возможность перейти в профиль друга. То есть по клику на ячейку друга необходимо переходить в его профиль. Выглядеть он должен точно так же, как и профиль пользователя, но без возможности сменить тему.
